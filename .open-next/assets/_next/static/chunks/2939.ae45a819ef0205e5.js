"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2939],{2939:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(5155),s=n(5109),i=n(8014),l=n(1891),o=n(6761),r=n(7e3),c=n(4109),g=n(4979),u=n(2115),d=n(9727),h=n(9144),b=n(7240),p=n(2643),y=n(9621),m=n(8440),x=n(2705),f=n(2406),v=n(3587),A=n(9140),N=n(224),j=n(7325),w=n(7733),k=n(8702),C=n(6340),L=n(8164),T=n(7213),H=n(3654),B=n(8932);let E=(0,u.forwardRef)((e,t)=>{let{content:n,onChange:E,onImageUpload:I}=e,R=(0,s.hG)({immediatelyRender:!1,extensions:[i.A.configure({heading:{levels:[1,2,3]}}),l.Ay.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"rounded-lg max-w-full h-auto my-4"}}),o.Ay.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline"}}),r.A,c.A.configure({types:["heading","paragraph"]}),g.A.configure({placeholder:"Start writing your news content here..."})],content:n,editorProps:{attributes:{class:"prose prose-invert max-w-none min-h-[400px] focus:outline-none px-4 py-3"},handleDrop:(e,t,n,a)=>{if(!a&&t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files[0]){let e=t.dataTransfer.files[0];if(e.type.startsWith("image/"))return t.preventDefault(),U(e),!0}return!1},handlePaste:(e,t)=>{var n;let a=null==(n=t.clipboardData)?void 0:n.items;if(a){for(let e=0;e<a.length;e++)if(-1!==a[e].type.indexOf("image")){let n=a[e].getAsFile();if(n)return t.preventDefault(),U(n),!0}}return!1}},onUpdate:e=>{let{editor:t}=e;E(t.getHTML())}});(0,u.useImperativeHandle)(t,()=>({clearContent:()=>{null==R||R.commands.clearContent()},setContent:e=>{null==R||R.commands.setContent(e)}})),(0,u.useEffect)(()=>{R&&n!==R.getHTML()&&R.commands.setContent(n)},[n,R]);let U=async e=>{if(I&&R)try{let t=await I(e);R.chain().focus().setImage({src:t}).run()}catch(e){console.error("Failed to upload image:",e)}};return R?(0,a.jsxs)("div",{className:"bg-[#1a1a1a] text-white",children:[(0,a.jsxs)("div",{className:"border-b border-gray-700 p-2 flex flex-wrap gap-1",children:[(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleBold().run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("bold")?"bg-gray-700":""),title:"Bold",children:(0,a.jsx)(d.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleItalic().run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("italic")?"bg-gray-700":""),title:"Italic",children:(0,a.jsx)(h.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleUnderline().run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("underline")?"bg-gray-700":""),title:"Underline",children:(0,a.jsx)(b.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleStrike().run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("strike")?"bg-gray-700":""),title:"Strikethrough",children:(0,a.jsx)(p.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleCode().run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("code")?"bg-gray-700":""),title:"Code",children:(0,a.jsx)(y.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-700 mx-1"}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleHeading({level:1}).run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("heading",{level:1})?"bg-gray-700":""),title:"Heading 1",children:(0,a.jsx)(m.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleHeading({level:2}).run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("heading",{level:2})?"bg-gray-700":""),title:"Heading 2",children:(0,a.jsx)(x.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleHeading({level:3}).run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("heading",{level:3})?"bg-gray-700":""),title:"Heading 3",children:(0,a.jsx)(f.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-700 mx-1"}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleBulletList().run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("bulletList")?"bg-gray-700":""),title:"Bullet List",children:(0,a.jsx)(v.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleOrderedList().run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("orderedList")?"bg-gray-700":""),title:"Numbered List",children:(0,a.jsx)(A.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().toggleBlockquote().run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("blockquote")?"bg-gray-700":""),title:"Quote",children:(0,a.jsx)(N.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-700 mx-1"}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().setTextAlign("left").run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive({textAlign:"left"})?"bg-gray-700":""),title:"Align Left",children:(0,a.jsx)(j.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().setTextAlign("center").run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive({textAlign:"center"})?"bg-gray-700":""),title:"Align Center",children:(0,a.jsx)(w.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().setTextAlign("right").run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive({textAlign:"right"})?"bg-gray-700":""),title:"Align Right",children:(0,a.jsx)(k.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().setTextAlign("justify").run(),className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive({textAlign:"justify"})?"bg-gray-700":""),title:"Justify",children:(0,a.jsx)(C.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-700 mx-1"}),(0,a.jsx)("button",{type:"button",onClick:()=>{let e=window.prompt("Enter URL");e&&(null==R||R.chain().focus().setLink({href:e}).run())},className:"p-2 rounded hover:bg-gray-700 transition ".concat(R.isActive("link")?"bg-gray-700":""),title:"Add Link",children:(0,a.jsx)(L.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async e=>{var t;let n=null==(t=e.target.files)?void 0:t[0];n&&U(n)},e.click()},className:"p-2 rounded hover:bg-gray-700 transition",title:"Insert Image",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-700 mx-1"}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().undo().run(),disabled:!R.can().undo(),className:"p-2 rounded hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",title:"Undo",children:(0,a.jsx)(H.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>R.chain().focus().redo().run(),disabled:!R.can().redo(),className:"p-2 rounded hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",title:"Redo",children:(0,a.jsx)(B.A,{className:"w-4 h-4"})})]}),(0,a.jsx)(s.$Z,{editor:R})]}):null});E.displayName="TiptapEditor";let I=E}}]);